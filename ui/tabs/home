local Players = game:GetService("Players")
local MarketplaceService = game:GetService("MarketplaceService")

local LocalPlayer = Players.LocalPlayer
local UI = _G.UniversalUtility.UI
local HomeContent = UI.TabContents["Home"]

local PlayerInfoFrame = Instance.new("Frame", HomeContent)
PlayerInfoFrame.Size = UDim2.new(1, 0, 0, 180)
PlayerInfoFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 42)
PlayerInfoFrame.BorderSizePixel = 0
PlayerInfoFrame.LayoutOrder = 1

local PlayerInfoCorner = Instance.new("UICorner", PlayerInfoFrame)
PlayerInfoCorner.CornerRadius = UDim.new(0, 10)

local PlayerImage = Instance.new("ImageLabel", PlayerInfoFrame)
PlayerImage.Size = UDim2.new(0, 120, 0, 140)
PlayerImage.Position = UDim2.new(0, 10, 0, 10)
PlayerImage.BackgroundColor3 = Color3.fromRGB(45, 45, 52)
PlayerImage.BorderSizePixel = 0
PlayerImage.Image = "rbxasset://textures/ui/GuiImagePlaceholder.png"

local PlayerImageCorner = Instance.new("UICorner", PlayerImage)
PlayerImageCorner.CornerRadius = UDim.new(0, 10)

local PlayerName = Instance.new("TextLabel", PlayerInfoFrame)
PlayerName.Size = UDim2.new(1, -145, 0, 22)
PlayerName.Position = UDim2.new(0, 140, 0, 10)
PlayerName.BackgroundTransparency = 1
PlayerName.Text = LocalPlayer.Name
PlayerName.Font = Enum.Font.GothamBold
PlayerName.TextSize = 28
PlayerName.TextColor3 = Color3.fromRGB(255, 255, 255)
PlayerName.TextXAlignment = Enum.TextXAlignment.Left

local FPSLabel = Instance.new("TextLabel", PlayerInfoFrame)
FPSLabel.Size = UDim2.new(1, -145, 0, 18)
FPSLabel.Position = UDim2.new(0, 140, 0, 50)
FPSLabel.BackgroundTransparency = 1
FPSLabel.Text = "FPS: 60"
FPSLabel.Font = Enum.Font.Gotham
FPSLabel.TextSize = 24
FPSLabel.TextColor3 = Color3.fromRGB(180, 180, 180)
FPSLabel.TextXAlignment = Enum.TextXAlignment.Left

local PingLabel = Instance.new("TextLabel", PlayerInfoFrame)
PingLabel.Size = UDim2.new(1, -145, 0, 18)
PingLabel.Position = UDim2.new(0, 140, 0, 90)
PingLabel.BackgroundTransparency = 1
PingLabel.Text = "Ping: 0 ms"
PingLabel.Font = Enum.Font.Gotham
PingLabel.TextSize = 24
PingLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
PingLabel.TextXAlignment = Enum.TextXAlignment.Left

local executor = _G.UniversalUtility.GetExecutorName()

local ExecutorLabel = Instance.new("TextLabel", PlayerInfoFrame)
ExecutorLabel.Size = UDim2.new(1, -145, 0, 18)
ExecutorLabel.Position = UDim2.new(0, 140, 0, 130)
ExecutorLabel.BackgroundTransparency = 1
ExecutorLabel.Text = "Executor: " .. executor
ExecutorLabel.Font = Enum.Font.Gotham
ExecutorLabel.TextSize = 24
ExecutorLabel.TextColor3 = Color3.fromRGB(255, 0, 125)
ExecutorLabel.TextXAlignment = Enum.TextXAlignment.Left

local GameInfoFrame = Instance.new("Frame", HomeContent)
GameInfoFrame.Size = UDim2.new(1, 0, 0, 220)
GameInfoFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 42)
GameInfoFrame.BorderSizePixel = 0
GameInfoFrame.LayoutOrder = 2

local GameInfoCorner = Instance.new("UICorner", GameInfoFrame)
GameInfoCorner.CornerRadius = UDim.new(0, 10)

local GameImage = Instance.new("ImageLabel", GameInfoFrame)
GameImage.Size = UDim2.new(0, 120, 0, 140)
GameImage.Position = UDim2.new(0, 10, 0, 10)
GameImage.BackgroundColor3 = Color3.fromRGB(45, 45, 52)
GameImage.BorderSizePixel = 0
GameImage.Image = "rbxasset://textures/ui/GuiImagePlaceholder.png"

local GameImageCorner = Instance.new("UICorner", GameImage)
GameImageCorner.CornerRadius = UDim.new(0, 10)

local GameName = Instance.new("TextLabel", GameInfoFrame)
GameName.Size = UDim2.new(1, -20, 0, 24)
GameName.Position = UDim2.new(0, 0, 0, 10)
GameName.BackgroundTransparency = 1
GameName.Text = "Loading..."
GameName.Font = Enum.Font.GothamBold
GameName.TextSize = 24
GameName.TextColor3 = Color3.fromRGB(255, 255, 255)
GameName.TextXAlignment = Enum.TextXAlignment.Center
GameName.TextWrapped = true

local GameId = Instance.new("TextLabel", GameInfoFrame)
GameId.Size = UDim2.new(1, -20, 0, 16)
GameId.Position = UDim2.new(0, 27.5, 0, 50)
GameId.BackgroundTransparency = 1
GameId.Text = "Game ID: " .. game.PlaceId
GameId.Font = Enum.Font.Gotham
GameId.TextSize = 24
GameId.TextColor3 = Color3.fromRGB(180, 180, 255)
GameId.TextXAlignment = Enum.TextXAlignment.Center

local PlayersInServerLabel = Instance.new("TextLabel", GameInfoFrame)
PlayersInServerLabel.Size = UDim2.new(1, -20, 0, 16)
PlayersInServerLabel.Position = UDim2.new(0, 27.5, 0, 90)
PlayersInServerLabel.BackgroundTransparency = 1
PlayersInServerLabel.Text = "Players in the server: " .. #Players:GetPlayers()
PlayersInServerLabel.Font = Enum.Font.Gotham
PlayersInServerLabel.TextSize = 24
PlayersInServerLabel.TextColor3 = Color3.fromRGB(180, 255, 180)
PlayersInServerLabel.TextXAlignment = Enum.TextXAlignment.Center

local serverId = game.JobId

local ServerIdLabel = Instance.new("TextLabel", GameInfoFrame)
ServerIdLabel.Size = UDim2.new(1, 0, 0, 18)
ServerIdLabel.Position = UDim2.new(0, 55, 0, 130)
ServerIdLabel.BackgroundTransparency = 1
ServerIdLabel.Text = "Server ID: " .. serverId
ServerIdLabel.Font = Enum.Font.Gotham
ServerIdLabel.TextSize = 14
ServerIdLabel.TextColor3 = Color3.fromRGB(255, 180, 180)
ServerIdLabel.TextXAlignment = Enum.TextXAlignment.Center

_G.UniversalUtility.HomeTab = {
    FPSLabel = FPSLabel,
    PingLabel = PingLabel
}

task.spawn(function()
    pcall(function()
        PlayerImage.Image = "rbxthumb://type=AvatarHeadShot&id=" .. LocalPlayer.UserId .. "&w=420&h=420"
        local gameInfo = MarketplaceService:GetProductInfo(game.PlaceId)
        GameName.Text = gameInfo.Name
        if gameInfo.IconImageAssetId and gameInfo.IconImageAssetId ~= 0 then
            GameImage.Image = "rbxthumb://type=Asset&id=" .. gameInfo.IconImageAssetId .. "&w=420&h=420"
        end
    end)
end)

print("[Universal Utility] Home tab loaded")
